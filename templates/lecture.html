<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
</head>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:700,600' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<h1>Lecture - {{lecture['lectureName']}}</h1> 
<div id="questions">
</div>
<script>
window.setInterval(function(){
    $.get('/lecture/getComments?lectureID={{lecture["_id"]}}',
        function(data){
            commentJson = JSON.parse(data);
            commentJson.sort((a, b) => b.upvotes - a.upvotes);
            console.table(commentJson)
            $('#questions').empty()
            for (const comment of JSON.parse(data)) {
                $('#questions').append("<p>"+comment['commentString']+" - "+comment['upvotes']+"</p>");    
            }  
        }
    );
},5000);
</script>